<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/dashboard"></ion-back-button>
    </ion-buttons>
    <ion-title>Novo Evento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <form [formGroup]="form" (ngSubmit)="salvar()">

    <ion-list lines="none">

      <ion-item>
        <ion-icon slot="start" name="text-outline"></ion-icon>
        <ion-input
          label="Título do Evento"
          labelPlacement="floating"
          formControlName="titulo"
          placeholder="Ex: Feira de Ciências 2025">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-icon slot="start" name="location-outline"></ion-icon>
        <ion-input
          label="Local"
          labelPlacement="floating"
          formControlName="local"
          placeholder="Ex: Auditório Central">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-icon slot="start" name="calendar-outline"></ion-icon>
        <ion-label>Data do Evento</ion-label>
        <ion-datetime-button datetime="datetime"></ion-datetime-button>

        <ion-modal [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime
              id="datetime"
              presentation="date-time"
              formControlName="data"
              [min]="minDate">
            </ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-item>

      <ion-item>
        <ion-textarea
          label="Descrição"
          labelPlacement="floating"
          formControlName="descricao"
          rows="4"
          placeholder="Sobre o que é o evento?">
        </ion-textarea>
      </ion-item>

      <ion-item class="toggle-item">
        <ion-icon
          slot="start"
          [name]="form.get('privado')?.value ? 'lock-closed-outline' : 'lock-open-outline'"
          [color]="form.get('privado')?.value ? 'warning' : 'success'">
        </ion-icon>

        <ion-label>
          <h2>Evento Privado?</h2>
          <p>Requer aprovação de projetos</p>
        </ion-label>

        <ion-toggle formControlName="privado" color="warning"></ion-toggle>
      </ion-item>

    </ion-list>

    <ion-button
      expand="block"
      type="submit"
      [disabled]="form.invalid"
      size="large">
      Criar Evento
      <ion-icon slot="end" name="checkmark-done-outline"></ion-icon>
    </ion-button>

  </form>

</ion-content>
