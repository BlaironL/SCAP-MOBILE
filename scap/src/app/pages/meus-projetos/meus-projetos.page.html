<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-title color="light">Meus Projetos</ion-title>
    <ion-buttons slot="end">
      <ion-button color="light">
        <ion-icon slot="icon-only" name="cloud-upload-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding content-bg">

  <div class="header-text">
    <h2>Histórico de Submissões</h2>
    <p>Acompanhe o status e as notas dos seus trabalhos.</p>
  </div>

  <div class="projects-list">
    <ion-card *ngFor="let projeto of meusProjetos" class="project-card">
      
      <div class="card-status-bar" [ngClass]="getStatusColor(projeto.status)">
        <ion-icon [name]="projeto.status === 'Avaliado' ? 'checkmark-circle-outline' : 'time-outline'"></ion-icon>
        <span>{{ projeto.status }}</span>
      </div>

      <div class="card-content">
        <h3>{{ projeto.titulo }}</h3>
        <p class="event-name">{{ projeto.evento }}</p>
        <p class="date">Enviado em: {{ projeto.dataSubmissao }}</p>

        <div class="grade-box" *ngIf="projeto.nota !== null">
          <div class="grade-circle">
            <span class="value">{{ projeto.nota | number:'1.1-1' }}</span>
            <span class="label">Nota Final</span>
          </div>
          <div class="feedback-preview">
            "{{ projeto.feedback }}"
          </div>
        </div>

        <div class="actions">
          <ion-button fill="outline" size="small" color="secondary">
            <ion-icon name="eye-outline" slot="start"></ion-icon>
            Detalhes
          </ion-button>
          <ion-button fill="clear" size="small" color="medium">
            <ion-icon name="download-outline" slot="icon-only"></ion-icon>
          </ion-button>
        </div>
      </div>
    </ion-card>
  </div>

</ion-content>